<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (20) -->
<title>Networking Properties (Java SE 20 &amp; JDK 20 [ad-hoc build])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="javadoc/DocFileWriter">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="doc-file-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java20speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 20 &amp; JDK 20</strong> <br><strong>DRAFT 20-internal-2022-07-19-1311514.jlaskey...</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="../package-summary.html">Package</a></li>
<li>Class</li>
<li>Use</li>
<li><a href="../../../../overview-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#doc-file">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list"></div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main"><H1 style="text-align:center">Networking Properties</H1>
<p>
There are a few standard system properties used to
alter the mechanisms and behavior of the various classes of the
java.net package. Some are checked only once at startup of the VM,
and therefore are best set using the -D option of the java command,
while others have a more dynamic nature and can also be changed using
the <a href="../../lang/System.html#setProperty(java.lang.String,java.lang.String)">System.setProperty()</a> API.
The purpose of this document is to list
and detail all of these properties.</P>
<p>
If there is no special note, a property value is checked every time it is used.</P>
<a id="Ipv4IPv6"></a>
<H2>IPv4 / IPv6</H2>
<UL>
        <LI><P><B><code><span id="java.net.preferIPv4Stack" class="search-tag-result">java.net.preferIPv4Stack</span></code></B> (default: false)<BR>
        If IPv6 is available on the operating system the
        underlying native socket will be, by default, an IPv6 socket which
        lets applications connect to, and accept connections from, both
        IPv4 and IPv6 hosts. However, in the case an application would
        rather use IPv4 only sockets, then this property can be set to <B>true</B>.
        The implication is that it will not be possible for the application
        to communicate with IPv6 only hosts.</P>
        <LI><P><B><code><span id="java.net.preferIPv6Addresses" class="search-tag-result">java.net.preferIPv6Addresses</span></code></B> (default: false)<BR>
        When dealing with a host which has both IPv4
        and IPv6 addresses, and if IPv6 is available on the operating
        system, the default behavior is to prefer using IPv4 addresses over
        IPv6 ones. This is to ensure backward compatibility: for example,
        for applications that depend on the representation of an IPv4 address
        (e.g. 192.168.1.1). This property can be set to <B>true</B> to
        change that preference and use IPv6 addresses over IPv4 ones where
        possible, or <B>system</B> to preserve the order of the addresses as
    returned by the system-wide <a href="../spi/InetAddressResolver.html" title="interface in java.net.spi">resolver</a>.</P>
</UL>
<P>Both of these properties are checked only once, at startup.</P>
<a id="Proxies"></a>
<H2>Proxies</H2>
<P>A proxy server allows indirect connection to network services and
is used mainly for security (to get through firewalls) and
performance reasons (proxies often do provide caching mechanisms).
The following properties allow for configuration of the various type
of proxies.</P>
<UL>
        <LI><P>HTTP</P>
        <P>The following proxy settings are used by the HTTP protocol handler.</P>
        <UL>
                <LI><P><B><code><span id="http.proxyHost" class="search-tag-result">http.proxyHost</span></code></B> (default: &lt;none&gt;)<BR>
                The hostname, or address, of the proxy server.
                </P>
                <LI><P><B><code><span id="http.proxyPort" class="search-tag-result">http.proxyPort</span></code></B> (default: <code>80</code>)<BR>
                The port number of the proxy server.</P>
                <LI><P><B><code><span id="http.nonProxyHosts" class="search-tag-result">http.nonProxyHosts</span></code></B> (default: <code>localhost|127.*|[::1]</code>)<BR>
                Indicates the hosts that should be accessed without going
                through the proxy. Typically this defines internal hosts.
                The value of this property is a list of hosts,
                separated by the '|' character. In addition, the wildcard
                character '*' can be used for pattern matching. For example,
                <code>-Dhttp.nonProxyHosts="*.foo.com|localhost"</code>
                will indicate that every host in the foo.com domain and the
                localhost should be accessed directly even if a proxy server is
                specified.</P>
                <P>The default value excludes all common variations of the loopback address.</P>
        </UL>
        <LI><P>HTTPS<BR>This is HTTP over SSL, a secure version of HTTP
        mainly used when confidentiality (like on payment sites) is needed.</P>
        <P>The following proxy settings are used by the HTTPS protocol handler.</P>
        <UL>
                <LI><P><B><code><span id="https.proxyHost" class="search-tag-result">https.proxyHost</span></code></B> (default: &lt;none&gt;)<BR>
                The hostname, or address, of the proxy server.
                </P>
                <LI><P><B><code><span id="https.proxyPort" class="search-tag-result">https.proxyPort</span></code></B> (default: <code>443</code>)<BR>
                The port number of the proxy server.</P>
                <P>The HTTPS protocol handler will use the same nonProxyHosts
                property as the HTTP protocol.</P>
        </UL>
        <LI><P>FTP</P>
        <P>The following proxy settings are used by the FTP protocol handler.</P>
        <UL>
                <LI><P><B><code><span id="ftp.proxyHost" class="search-tag-result">ftp.proxyHost</span></code></B> (default: &lt;none&gt;)<BR>
                The hostname, or address, of the proxy server.
                </P>
                <LI><P><B><code><span id="ftp.proxyPort" class="search-tag-result">ftp.proxyPort</span></code></B> (default: <code>80</code>)<BR>
                The port number of the proxy server.</P>
                <LI><P><B><code><span id="ftp.nonProxyHosts" class="search-tag-result">ftp.nonProxyHosts</span></code></B> (default: <code>localhost|127.*|[::1]</code>)<BR>
                Indicates the hosts that should be accessed without going
                through the proxy. Typically this defines internal hosts.
                The value of this property is a list of hosts, separated by
                the '|' character. In addition, the wildcard character
                '*' can be used for pattern matching. For example,
                <code>-Dhttp.nonProxyHosts="*.foo.com|localhost"</code>
                will indicate that every host in the foo.com domain and the
                localhost should be accessed directly even if a proxy server is
                specified.</P>
                <P>The default value excludes all common variations of the loopback address.</P>
        </UL>
        <LI><P>SOCKS<BR>This is another type of proxy. It allows for lower-level
        type of tunneling since it works at the TCP level. In effect,
        in the Java(tm) platform setting a SOCKS proxy server will result in
        all TCP connections to go through that proxy, unless other proxies
        are specified. If SOCKS is supported by a Java SE implementation, the
        following properties will be used:</P>
        <UL>
                <LI><P><B><code><span id="socksProxyHost" class="search-tag-result">socksProxyHost</span></code></B> (default: &lt;none&gt;)<BR>
                The hostname, or address, of the proxy server.</P>
                <LI><P><B><code><span id="socksProxyPort" class="search-tag-result">socksProxyPort</span></code></B> (default: <code>1080</code>)<BR>
                The port number of the proxy server.</P>
                <LI><P><B><code><span id="socksProxyVersion" class="search-tag-result">socksProxyVersion</span></code></B> (default: <code>5</code>)<BR>
                The version of the SOCKS protocol supported by the server. The
                default is <code>5</code> indicating SOCKS V5. Alternatively,
                <code>4</code> can be specified for SOCKS V4. Setting the property
                to values other than these leads to unspecified behavior.</P>
                <LI><P><B><code><span id="java.net.socks.username" class="search-tag-result">java.net.socks.username</span></code></B> (default: &lt;none&gt;)<BR>
                Username to use if the SOCKSv5 server asks for authentication
                and no <a href="../Authenticator.html" title="class in java.net"><code>java.net.Authenticator</code></a> instance was found.</P>
                <LI><P><B><code><span id="java.net.socks.password" class="search-tag-result">java.net.socks.password</span></code></B> (default: &lt;none&gt;)<BR>
                Password to use if the SOCKSv5 server asks for authentication
                and no <code>java.net.Authenticator</code> instance was found.</P>
                <P>Note that if no authentication is provided with either the above
                properties or an Authenticator, and the proxy requires one, then
                the <B>user.name</B> property will be used with no password.</P>
        </UL>
        <LI><P><B><code><span id="java.net.useSystemProxies" class="search-tag-result">java.net.useSystemProxies</span></code></B> (default: <code>false</code>)<BR>
        On Windows systems, macOS systems, and Gnome systems it is possible to
        tell the java.net stack, setting this property to <B>true</B>, to use
        the system proxy settings (all these systems let you set proxies
        globally through their user interface). Note that this property is
        checked only once at startup.</P>
</UL>
<a id="MiscHTTP"></a>
<H2>Misc HTTP URL stream protocol handler properties</H2>
<UL>
        <LI><P><B><code><span id="http.agent" class="search-tag-result">http.agent</span></code></B> (default: &ldquo;Java/&lt;version&gt;&rdquo;)<BR>
        Defines the string sent in the User-Agent request header in http
        requests. Note that the string &ldquo;Java/&lt;version&gt;&rdquo; will
        be appended to the one provided in the property (e.g. if
        <code>-Dhttp.agent="foobar"</code> is used, the User-Agent header will
        contain &ldquo;foobar Java/1.5.0&rdquo; if the version of the VM is
        1.5.0). This property is checked only once at startup.</P>
        <LI><P><B><code><span id="http.keepAlive" class="search-tag-result">http.keepAlive</span></code></B> (default: <code>true</code>)<BR>
        Indicates if persistent connections should be supported. They improve
        performance by allowing the underlying socket connection to be reused
        for multiple HTTP requests. If this is set to true then persistent
        connections will be requested with HTTP 1.1 servers.</P>
        <LI><P><B><code><span id="http.maxConnections" class="search-tag-result">http.maxConnections</span></code></B> (default: <code>5</code>)<BR>
        If HTTP keepalive is enabled (see above) this value determines the
        maximum number of idle connections that will be simultaneously kept
        alive, per destination.</P>
        <LI><P><B><code><span id="http.keepAlive.time.server" class="search-tag-result">http.keepAlive.time.server</span></code></B> and
        <B><code><span id="http.keepAlive.time.proxy" class="search-tag-result">http.keepAlive.time.proxy</span></code></B> </P>
        <P>These properties modify the behavior of the HTTP keepalive cache in the case
        where the server (or proxy) has not specified a keepalive time. If the
        property is set in this case, then idle connections will be closed after the 
        specified number of seconds. If the property is set, and the server does
        specify a keepalive time in a "Keep-Alive" response header, then the time specified 
        by the server is used. If the property is not set and also the server
        does not specify a keepalive time, then connections are kept alive for an
        implementation defined time, assuming <code>http.keepAlive</code> is <code>true</code>.</P>
        <LI><P><B><code><span id="http.maxRedirects" class="search-tag-result">http.maxRedirects</span></code></B> (default: <code>20</code>)<BR>
        This integer value determines the maximum number, for a given request,
        of HTTP redirects that will be automatically followed by the
        protocol handler.</P>
        <LI><P><B><code><span id="http.auth.digest.validateServer" class="search-tag-result">http.auth.digest.validateServer</span></code></B> (default: <code>false</code>)</P>
        <LI><P><B><code><span id="http.auth.digest.validateProxy" class="search-tag-result">http.auth.digest.validateProxy</span></code></B> (default: <code>false</code>)</P>
        <LI><P><B><code><span id="http.auth.digest.cnonceRepeat" class="search-tag-result">http.auth.digest.cnonceRepeat</span></code></B> (default: <code>5</code>)</P>
        <P>These 3 properties modify the behavior of the HTTP digest
        authentication mechanism. Digest authentication provides a limited
        ability for the server  to authenticate itself to the client (i.e.
        By proving it knows the user's password). However, not all HTTP
        servers support this capability and by default it is turned off. The
        first two properties can be set to true to enforce this check for
        authentication with either an origin or proxy server, respectively.</P>
        <P>It is usually not necessary to change the third property. It
        determines how many times a cnonce value is re-used. This can be
        useful when the MD5-sess algorithm is being used. Increasing this
        value reduces the computational overhead on both client and server
        by reducing the amount of material that has to be hashed for each
        HTTP request.</P>
        <LI><P><B><code><span id="http.auth.ntlm.domain" class="search-tag-result">http.auth.ntlm.domain</span></code></B> (default: &lt;none&gt;)<BR>
        NTLM is another authentication scheme. It uses the
        <code>java.net.Authenticator</code> class to acquire usernames and passwords when
        they are needed. However, NTLM also needs the NT domain name. There are
        3 options for specifying that domain:</P>
        <OL>
          <LI><P>Do not specify it. In some environments the domain is
              actually not required and the application does not have to specify
              it.</P>
          <LI><P>The domain name can be encoded within the username by
              prefixing the domain name, followed by a backslash '\' before the
              username. With this method existing applications that use the
              authenticator class do not need to be modified, as long as users
              are made aware that this notation must be used.</P>
          <LI><P>If a domain name is not specified as in method 2) and this
              property is defined, then its value will be used as the domain
              name.</P>
        </OL>
        <LI><P><B><code><span id="http.auth.digest.reEnabledAlgorithms" class="search-tag-result">http.auth.digest.reEnabledAlgorithms</span></code></B> (default: &lt;none&gt;)<BR>
        By default, certain message digest algorithms are disabled for use in HTTP Digest
        authentication due to their proven security limitations. This only applies to proxy
        authentication and plain-text HTTP server authentication. Disabled algorithms are still
        usable for HTTPS server authentication. The default list of disabled algorithms is specified
        in the <code>java.security</code> properties file and currently comprises <code>MD5</code> and
        <code>SHA-1</code>. If it is still required to use one of these algorithms, then they can be
        re-enabled by setting this property to a comma separated list of the algorithm names.</P>
        <LI><P><B><code><span id="jdk.https.negotiate.cbt" class="search-tag-result">jdk.https.negotiate.cbt</span></code></B> (default: &lt;never&gt;)<BR>
        This controls the generation and sending of TLS channel binding tokens (CBT) when Kerberos 
        or the Negotiate authentication scheme using Kerberos are employed over HTTPS with
        <code>HttpsURLConnection</code>. There are three possible settings:</P>
        <OL>
          <LI><P>"never". This is also the default value if the property is not set. In this case,
              CBTs are never sent.</P>
          <LI><P>"always". CBTs are sent for all Kerberos authentication attempts over HTTPS.</P>
          <LI><P>"domain:&lt;comma separated domain list&gt;" Each domain in the list specifies destination
          host or hosts for which a CBT is sent. Domains can be single hosts like foo, or foo.com,
          or literal IP addresses as specified in RFC 2732, or wildcards like *.foo.com which matches 
          all hosts under foo.com and its sub-domains. CBTs are not sent to any destinations 
          that don't match one of the list entries</P>
        </OL>
        <P>The channel binding tokens generated are of the type "tls-server-end-point" as defined in
           RFC 5929.</P>
</UL>
<P>All these properties are checked only once at startup.</P>
<a id="AddressCache"></a>
<H2>Address Cache</H2>
<P>The java.net package, when doing name resolution, uses an address
cache for both security and performance reasons. Any address
resolution attempt, be it forward (name to IP address) or reverse (IP
address to name), will have its result cached, whether it was
successful or not, so that subsequent identical requests will not
have to access the naming service. These properties allow for some
tuning on how the cache is operating.</P>
<UL>
        <LI><P><B><code><span id="networkaddress.cache.ttl" class="search-tag-result">networkaddress.cache.ttl</span></code></B> (default: see below)<BR>
        Value is an integer corresponding to the number of seconds successful
        name lookups will be kept in the cache. A value of -1, or any other
        negative value for that matter, indicates a &ldquo;cache forever&rdquo;
        policy, while a value of 0 (zero) means no caching. The default value
        is -1 (forever) if a security manager is installed, and implementation-specific
        when no security manager is installed.</P>
        <LI><P><B><code><span id="networkaddress.cache.negative.ttl" class="search-tag-result">networkaddress.cache.negative.ttl</span></code></B> (default: <code>10</code>)<BR>
        Value is an integer corresponding to the number of seconds an
        unsuccessful name lookup will be kept in the cache. A value of -1,
        or any negative value, means &ldquo;cache forever&rdquo;, while a
        value of 0 (zero) means no caching.</P>
</UL>
<P>Since these 2 properties are part of the security policy, they are
not set by either the -D option or the <code>System.setProperty()</code> API,
instead they are set as security properties.</P>
<a id="Unixdomain"></a>
<H2>Unix domain sockets</H2>
<p>
Calling <a href="../../nio/channels/ServerSocketChannel.html#bind(java.net.SocketAddress,int)"><code>ServerSocketChannel.bind</code></a>
with a <code>null</code> address parameter will bind to an <i>automatically assigned</i> socket address.
For Unix domain sockets, this means a unique path in some predefined system temporary directory.
There are a number of system (and networking) properties that affect this behavior.
<p>
Unix domain socket addresses are limited in length to approximately 100 
bytes (depending on the platform), it is important to ensure that the temporary directory's name
together with the filename used for the socket (currently a name similar to
<code>socket_1679697142</code>) does not exceed this limit. The following properties
can be used to control the selection of this directory:
<ul>
        <li><p><b><code><span id="jdk.net.unixdomain.tmpdir" class="search-tag-result">jdk.net.unixdomain.tmpdir</span></code></b> This can be set as 
        a networking property in <code>conf/net.properties</code> If set, this specifies the 
        directory to use for automatically bound server socket addresses. On some platforms,
        (eg some Unix systems) this will have a predefined default value. On others,
        (eg Windows) there is no default value. Either way, it is always possible
        to override the networking property with a system property of the same name
        set on the command line. If neither of the networking nor system property
        are set, then some systems (eg Windows)  may check a commonly used environment 
        variable as temporary directory.
        <li><p><b><code><span id="java.io.tmpdir" class="search-tag-result">java.io.tmpdir</span></code></b> If the previous step fails to locate
        a directory to use, then the directory identified by the system property
        <code>java.io.tmpdir</code> is used.
</ul>
More information about the platform specific behavior can be seen in the 
<code>conf/net.properties</code> configuration file.
<p>
<i>Implicit</i> binding of a <a href="../../nio/channels/SocketChannel.html" title="class in java.nio.channels"><code>SocketChannel</code></a>
<p>
If a client socket is connected to a remote destination without calling <code>bind</code> first,
then the socket is <i>implicitly</i> bound. In this case, <i>Unix domain</i> sockets 
are <i>unnamed</i> (ie. their path is empty). This behavior is not affected by any
system or networking properties.
<p>
<a id="EnhancedExceptions"></a>
<H2>Enhanced exception messages</H2>
By default, for security reasons, exception messages do not include potentially sensitive
security information such as hostnames or Unix domain socket address paths.
The following property can be used to relax this restriction, for debugging and other
purposes.
<ul>
        <li><p><b><code><span id="jdk.includeInExceptions" class="search-tag-result">jdk.includeInExceptions</span></code></b> This is typically set to
        a comma separated list of keywords that refer to exception types whose messages
        may be enhanced with more detailed information. If the value includes the string
        <code>hostInfo</code> then socket addresses will be included in exception message
        texts (eg hostnames, Unix domain socket address paths).
</ul></main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase20&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2022, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java20speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 20-internal-2022-07-19-1311514.jlaskey...</strong> <!-- Version 20-internal-2022-07-19-1311514.jlaskey... --></small></p>
</footer>
</div>
</div>
</body>
</html>
