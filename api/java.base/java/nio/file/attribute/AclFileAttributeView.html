<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (20) -->
<title>AclFileAttributeView (Java SE 20 &amp; JDK 20 [ad-hoc build])</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: java.base, package: java.nio.file.attribute, interface: AclFileAttributeView">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="java.nio.file.attribute.AclFileAttributeView interface">
<meta name="keywords" content="name()">
<meta name="keywords" content="getAcl()">
<meta name="keywords" content="setAcl()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java20speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 9px;"><strong>Java SE 20 &amp; JDK 20</strong> <br><strong>DRAFT 20-internal-2022-07-19-1311514.jlaskey...</strong></div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AclFileAttributeView.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../../new-list.html">New</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">java.base</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">java.nio.file.attribute</a></div>
<h1 title="Interface AclFileAttributeView" class="title">Interface AclFileAttributeView</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="AttributeView.html" title="interface in java.nio.file.attribute">AttributeView</a></code>, <code><a href="FileAttributeView.html" title="interface in java.nio.file.attribute">FileAttributeView</a></code>, <code><a href="FileOwnerAttributeView.html" title="interface in java.nio.file.attribute">FileOwnerAttributeView</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">AclFileAttributeView</span><span class="extends-implements">
extends <a href="FileOwnerAttributeView.html" title="interface in java.nio.file.attribute">FileOwnerAttributeView</a></span></div>
<div class="block">A file attribute view that supports reading or updating a file's Access
 Control Lists (ACL) or file owner attributes.

 <p> ACLs are used to specify access rights to file system objects. An ACL is
 an ordered list of <a href="AclEntry.html" title="class in java.nio.file.attribute"><code>access-control-entries</code></a>, each specifying a
 <a href="UserPrincipal.html" title="interface in java.nio.file.attribute"><code>UserPrincipal</code></a> and the level of access for that user principal. This
 file attribute view defines the <a href="#getAcl()"><code>getAcl</code></a>, and <a href="#setAcl(java.util.List)"><code>setAcl</code></a> methods to read and write ACLs based on the ACL
 model specified in <a href="http://www.ietf.org/rfc/rfc3530.txt"><i>RFC&nbsp;3530:
 Network File System (NFS) version 4 Protocol</i></a>. This file attribute view
 is intended for file system implementations that support the NFSv4 ACL model
 or have a <em>well-defined</em> mapping between the NFSv4 ACL model and the ACL
 model used by the file system. The details of such mapping are implementation
 dependent and are therefore unspecified.

 <p> This class also extends <code>FileOwnerAttributeView</code> so as to define
 methods to get and set the file owner.

 <p> When a file system provides access to a set of <a href="../FileStore.html" title="class in java.nio.file"><code>file-systems</code></a> that are not homogeneous then only some of the file systems may
 support ACLs. The <a href="../FileStore.html#supportsFileAttributeView(java.lang.Class)"><code>supportsFileAttributeView</code></a> method can be used to test if a file system
 supports ACLs.

 <h2>Interoperability</h2>

 RFC&nbsp;3530 allows for special user identities to be used on platforms that
 support the POSIX defined access permissions. The special user identities
 are "<code>OWNER@</code>", "<code>GROUP@</code>", and "<code>EVERYONE@</code>". When both
 the <code>AclFileAttributeView</code> and the <a href="PosixFileAttributeView.html" title="interface in java.nio.file.attribute"><code>PosixFileAttributeView</code></a>
 are supported then these special user identities may be included in ACL <a href="AclEntry.html" title="class in java.nio.file.attribute"><code>entries</code></a> that are read or written. The file system's <a href="UserPrincipalLookupService.html" title="class in java.nio.file.attribute"><code>UserPrincipalLookupService</code></a> may be used to obtain a <a href="UserPrincipal.html" title="interface in java.nio.file.attribute"><code>UserPrincipal</code></a>
 to represent these special identities by invoking the <a href="UserPrincipalLookupService.html#lookupPrincipalByName(java.lang.String)"><code>lookupPrincipalByName</code></a>
 method.

 <p> <b>Usage Example:</b>
 Suppose we wish to add an entry to an existing ACL to grant "joe" access:
 <pre>
     // lookup "joe"
     UserPrincipal joe = file.getFileSystem().getUserPrincipalLookupService()
         .lookupPrincipalByName("joe");

     // get view
     AclFileAttributeView view = Files.getFileAttributeView(file, AclFileAttributeView.class);

     // create ACE to give "joe" read access
     AclEntry entry = AclEntry.newBuilder()
         .setType(AclEntryType.ALLOW)
         .setPrincipal(joe)
         .setPermissions(AclEntryPermission.READ_DATA, AclEntryPermission.READ_ATTRIBUTES)
         .build();

     // read ACL, insert ACE, re-write ACL
     List&lt;AclEntry&gt; acl = view.getAcl();
     acl.add(0, entry);   // insert before any DENY entries
     view.setAcl(acl);
 </pre>

 <h2> Dynamic Access </h2>
 <p> Where dynamic access to file attributes is required, the attributes
 supported by this attribute view are as follows:
 <blockquote>
 <table class="striped">
 <caption style="display:none">Supported attributes</caption>
 <thead>
   <tr>
     <th scope="col"> Name </th>
     <th scope="col"> Type </th>
   </tr>
 </thead>
 <tbody>
   <tr>
     <th scope="row"> "acl" </th>
     <td> <a href="../../../util/List.html" title="interface in java.util"><code>List</code></a>&lt;<a href="AclEntry.html" title="class in java.nio.file.attribute"><code>AclEntry</code></a>&gt; </td>
   </tr>
   <tr>
     <th scope="row"> "owner" </th>
     <td> <a href="UserPrincipal.html" title="interface in java.nio.file.attribute"><code>UserPrincipal</code></a> </td>
   </tr>
 </tbody>
 </table>
 </blockquote>

 <p> The <a href="../Files.html#getAttribute(java.nio.file.Path,java.lang.String,java.nio.file.LinkOption...)"><code>getAttribute</code></a> method may be used to read
 the ACL or owner attributes as if by invoking the <a href="#getAcl()"><code>getAcl</code></a> or
 <a href="FileOwnerAttributeView.html#getOwner()"><code>getOwner</code></a> methods.

 <p> The <a href="../Files.html#setAttribute(java.nio.file.Path,java.lang.String,java.lang.Object,java.nio.file.LinkOption...)"><code>setAttribute</code></a> method may be used to
 update the ACL or owner attributes as if by invoking the <a href="#setAcl(java.util.List)"><code>setAcl</code></a>
 or <a href="FileOwnerAttributeView.html#setOwner(java.nio.file.attribute.UserPrincipal)"><code>setOwner</code></a> methods.

 <h2> Setting the ACL when creating a file </h2>

 <p> Implementations supporting this attribute view may also support setting
 the initial ACL when creating a file or directory. The initial ACL
 may be provided to methods such as <a href="../Files.html#createFile(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)"><code>createFile</code></a> or <a href="../Files.html#createDirectory(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)"><code>createDirectory</code></a> as an <a href="FileAttribute.html" title="interface in java.nio.file.attribute"><code>FileAttribute</code></a> with <a href="FileAttribute.html#name()"><code>name</code></a> <code>"acl:acl"</code> and a <a href="FileAttribute.html#value()"><code>value</code></a> that is the list of <code>AclEntry</code> objects.

 <p> Where an implementation supports an ACL model that differs from the NFSv4
 defined ACL model then setting the initial ACL when creating the file must
 translate the ACL to the model supported by the file system. Methods that
 create a file should reject (by throwing <a href="../../../io/IOException.html" title="class in java.io"><code>IOException</code></a>)
 any attempt to create a file that would be less secure as a result of the
 translation.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.7</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../util/List.html" title="interface in java.util">List</a>&lt;<a href="AclEntry.html" title="class in java.nio.file.attribute">AclEntry</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getAcl()" class="member-name-link">getAcl</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Reads the access control list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../../../lang/String.html" title="class in java.lang">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#name()" class="member-name-link">name</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the name of the attribute view.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setAcl(java.util.List)" class="member-name-link">setAcl</a><wbr>(<a href="../../../util/List.html" title="interface in java.util">List</a>&lt;<a href="AclEntry.html" title="class in java.nio.file.attribute">AclEntry</a>&gt;&nbsp;acl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Updates (replace) the access control list.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.nio.file.attribute.FileOwnerAttributeView">Methods declared in interface&nbsp;java.nio.file.attribute.<a href="FileOwnerAttributeView.html" title="interface in java.nio.file.attribute">FileOwnerAttributeView</a></h3>
<code><a href="FileOwnerAttributeView.html#getOwner()">getOwner</a>, <a href="FileOwnerAttributeView.html#setOwner(java.nio.file.attribute.UserPrincipal)">setOwner</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="return-type"><a href="../../../lang/String.html" title="class in java.lang">String</a></span>&nbsp;<span class="element-name">name</span>()</div>
<div class="block">Returns the name of the attribute view. Attribute views of this type
 have the name <code>"acl"</code>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AttributeView.html#name()">name</a></code>&nbsp;in interface&nbsp;<code><a href="AttributeView.html" title="interface in java.nio.file.attribute">AttributeView</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="FileOwnerAttributeView.html#name()">name</a></code>&nbsp;in interface&nbsp;<code><a href="FileOwnerAttributeView.html" title="interface in java.nio.file.attribute">FileOwnerAttributeView</a></code></dd>
<dt>Returns:</dt>
<dd>the name of the attribute view</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAcl()">
<h3>getAcl</h3>
<div class="member-signature"><span class="return-type"><a href="../../../util/List.html" title="interface in java.util">List</a>&lt;<a href="AclEntry.html" title="class in java.nio.file.attribute">AclEntry</a>&gt;</span>&nbsp;<span class="element-name">getAcl</span>()
               throws <span class="exceptions"><a href="../../../io/IOException.html" title="class in java.io">IOException</a></span></div>
<div class="block">Reads the access control list.

 <p> When the file system uses an ACL model that differs from the NFSv4
 defined ACL model, then this method returns an ACL that is the translation
 of the ACL to the NFSv4 ACL model.

 <p> The returned list is modifiable so as to facilitate changes to the
 existing ACL. The <a href="#setAcl(java.util.List)"><code>setAcl</code></a> method is used to update
 the file's ACL attribute.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an ordered list of <a href="AclEntry.html" title="class in java.nio.file.attribute"><code>entries</code></a> representing the
          ACL</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../io/IOException.html" title="class in java.io">IOException</a></code> - if an I/O error occurs</dd>
<dd><code><a href="../../../lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - In the case of the default provider, a security manager is
          installed, and it denies <a href="../../../lang/RuntimePermission.html" title="class in java.lang"><code>RuntimePermission</code></a><code>("accessUserInformation")</code>
          or its <a href="../../../lang/SecurityManager.html#checkRead(java.lang.String)"><code>checkRead</code></a> method
          denies read access to the file.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAcl(java.util.List)">
<h3>setAcl</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setAcl</span><wbr><span class="parameters">(<a href="../../../util/List.html" title="interface in java.util">List</a>&lt;<a href="AclEntry.html" title="class in java.nio.file.attribute">AclEntry</a>&gt;&nbsp;acl)</span>
     throws <span class="exceptions"><a href="../../../io/IOException.html" title="class in java.io">IOException</a></span></div>
<div class="block">Updates (replace) the access control list.

 <p> Where the file system supports Access Control Lists, and it uses an
 ACL model that differs from the NFSv4 defined ACL model, then this method
 must translate the ACL to the model supported by the file system. This
 method should reject (by throwing <a href="../../../io/IOException.html" title="class in java.io"><code>IOException</code></a>) any
 attempt to write an ACL that would appear to make the file more secure
 than would be the case if the ACL were updated. Where an implementation
 does not support a mapping of <a href="AclEntryType.html#AUDIT"><code>AclEntryType.AUDIT</code></a> or <a href="AclEntryType.html#ALARM"><code>AclEntryType.ALARM</code></a> entries, then this method ignores these entries when
 writing the ACL.

 <p> If an ACL entry contains a <a href="AclEntry.html#principal()"><code>user-principal</code></a>
 that is not associated with the same provider as this attribute view then
 <a href="../ProviderMismatchException.html" title="class in java.nio.file"><code>ProviderMismatchException</code></a> is thrown. Additional validation, if
 any, is implementation dependent.

 <p> If the file system supports other security related file attributes
 (such as a file <a href="PosixFileAttributes.html#permissions()"><code>access-permissions</code></a> for example), the updating the access control list
 may also cause these security related attributes to be updated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>acl</code> - the new access control list</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../io/IOException.html" title="class in java.io">IOException</a></code> - if an I/O error occurs or the ACL is invalid</dd>
<dd><code><a href="../../../lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - In the case of the default provider, a security manager is
          installed, it denies <a href="../../../lang/RuntimePermission.html" title="class in java.lang"><code>RuntimePermission</code></a><code>("accessUserInformation")</code>
          or its <a href="../../../lang/SecurityManager.html#checkWrite(java.lang.String)"><code>checkWrite</code></a>
          method denies write access to the file.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase20&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2022, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java20speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 20-internal-2022-07-19-1311514.jlaskey...</strong> <!-- Version 20-internal-2022-07-19-1311514.jlaskey... --></small></p>
</footer>
</div>
</div>
</body>
</html>
